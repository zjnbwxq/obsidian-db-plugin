# Obsidian 数据库插件

这是一个用于在 Obsidian 中创建和管理复杂数据库的插件，支持多种高级数据类型。

## 功能

- 解析 Markdown 文件中的数据库表格
- 在独立视图中显示和管理数据库
- 支持按列排序和表内搜索
- 支持导出为 CSV 和 JSON 格式
- 支持导入 CSV 和 JSON 文件
- 可设置默认排序方向
- 可暴露接口给其他插件
- 支持多种高级数据类型，包括科学和声学相关类型

## 支持的数据类型

本插件支持以下数据类型：

1. string（字符串）：文本数据。
2. number（数字）：整数或浮点数。
3. boolean（布尔值）：真或假。
4. date（日期）：日期和时间信息。
5. decimal（精确数值）：高精度数值，适用于财务计算。
6. array（数组）：一组有序的值。
7. object（对象）：键值对的集合。
8. geo（地理坐标）：经纬度坐标。
9. timeseries（时间序列）：按时间顺序排列的数据点序列。
10. category（分类）：离散的类别或标签。
11. binary（二进制）：原始二进制数据。
12. vector（向量）：具有大小和方向的量。
13. matrix（矩阵）：二维数值数组。
14. complex（复数）：包含实部和虚部的数。
15. uncertainty（不确定度）：测量值及其误差范围。
16. unit（单位）：物理量的度量单位。
17. formula（公式）：数学或化学公式。
18. distribution（分布）：统计分布。
19. color（颜色）：色彩信息，可以是RGB、HSL等格式。
20. spectrum（光谱）：光的强度随波长或频率的分布。
21. histogram（直方图）：数据分布的图形表示。
22. tensor（张量）：多维数组。
23. waveform（波形）：信号随时间变化的图形表示。
24. graph（图）：由节点和边组成的数据结构。
25. molecule（分子）：化学分子的结构信息。
26. sequence（序列）：有序元素列表，如DNA序列。
27. image（图像）：图像数据或元数据。
28. function（函数）：可执行的数学函数。
29. interval（区间）：数值范围。
30. fuzzy（模糊集）：具有不确定成员资格的集合。
31. quaternion（四元数）：表示三维旋转的数学结构。
32. polygon（多边形）：由直线段围成的平面图形。
33. timedelta（时间差）：两个时间点之间的差值。
34. currency（货币）：货币金额及其类型。
35. regex（正则表达式）：用于模式匹配的字符序列。
36. url（统一资源定位符）：网络资源的地址。
37. ipaddress（IP地址）：互联网协议地址。
38. uuid（通用唯一识别码）：用于唯一标识信息的字符串。
39. version（版本号）：软件版本信息。
40. bitfield（位域）：一组位的集合，每位代表一个布尔标志。
41. enum（枚举）：命名常量的集合。
42. audio_signal（音频信号）：表示声音的数字信号。
43. frequency_response（频率响应）：系统对不同频率输入的响应。
44. impulse_response（脉冲响应）：系统对脉冲输入的响应。
45. transfer_function（传递函数）：系统输入和输出之间的关系。
46. spectrogram（声谱图）：声音信号频率随时间变化的视觉表示。
47. acoustic_impedance（声阻抗）：介质对声波传播的阻力。
48. reverberation_time（混响时间）：声音在空间中衰减到特定水平所需的时间。
49. noise_level（噪声级别）：环境噪声的强度。
50. sound_pressure_level（声压级）：声音强度的对数度量。
51. directivity_pattern（指向性模式）：声源或接收器的空间辐射特性。

这些数据类型涵盖了广泛的科学、工程和日常应用场景，使得本插件能够处理各种复杂的数据结构和分析需求。

## 安装

1. 打开 Obsidian 设置
2. 进入"第三方插件"
3. 禁用安全模式
4. 点击"浏览社区插件"
5. 搜索"数据库插件"
6. 点击安装
7. 启用插件

## 使用方法

### 创建数据库表

在 Markdown 文件中，使用以下格式创建数据库表:

```
db:表名
字段1,字段2,字段3
值1,值2,值3
值4,值5,值6
```

### 查看数据库

1. 打开包含数据库表的 Markdown 文件
2. 使用命令面板(Ctrl/Cmd + P)执行"打开数据库视图"命令
3. 或点击左侧栏的数据库图标

### 排序和搜索

- 点击列标题可以按该列排序
- 使用表格上方的搜索框进行搜索

### 导出数据

1. 在数据库视图中，选择要导出的表格
2. 选择导出格式（CSV 或 JSON）
3. 点击"导出"按钮
4. 选择保存位置

### 导入数据

1. 在数据库视图中，点击"导入"按钮
2. 选择 CSV 或 JSON 文件
3. 选择导入方式（新建文件或插入到当前文档）

## 设置

在插件设置中，你可以：

- 设置默认排序方向
- 配置特定数据类型的显示格式

## 常见问题

Q: 如何使用高级数据类型？
A: 在创建表格时，使用特定的字段名称（如 "frequency_response" 或 "audio_signal"）会自动识别为相应的数据类型。

Q: 如何编辑数据库中的数据？
A: 目前，你需要在原始 Markdown 文件中编辑数据。我们计划在未来版本中添加直接编辑功能。

Q: 如何获取数据库数据？
A: 你可以通过暴露的接口获取数据库数据。方法如下:

```javascript
const databaseData = (this.app as any).plugins.simple_database.getDatabaseData();
```

## 反馈与支持

如果您遇到任何问题或有改进建议，请在 GitHub 仓库中提交 issue。

## 许可证

本插件采用 MIT 许可证。详情请见 [LICENSE](LICENSE) 文件。

## 更新日志

### 1.0.0 (2024-10-17)
- 初始发布
- 基本的数据库解析和显示功能
- 排序和搜索功能
- CSV 导入导出功能

### 1.0.1 (2024-10-18)
- 添加暴露接口
- 增加 JSON 导入导出

### 1.1.0 (2024-10-25)
- 添加多种高级数据类型支持
- 优化数据类型识别和显示
- 改进导入导出功能以支持新数据类型
